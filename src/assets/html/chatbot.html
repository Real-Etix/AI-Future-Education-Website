<div class="chat-content">
    <div class = "content-header">{{ title }}</div>
    <div class = "content-body">
         <!-- Single message list that displays all messages chronologically -->
         <ul class = "message-list">
            <li
                class="message-item"
                :class="message.author === 'teacher' ? 'teacher-message-item' : 'student-message-item'"
                v-for="(message, index) in sortedMessages"
                :key="index"
                >
                    <!-- Teacher message layout -->
                    <template v-if="message.author === 'teacher'">
                        <svg class="svg-icon-teacher" style="width: 5em; height: 5em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M777.64 965.502H246.361c-5.523 0-10-4.478-10-10 0-20.864 2.346-41.624 6.98-61.838-54.104-23.893-82.626-56.116-82.626-93.524V377.073c0-85.095 33.138-165.096 93.308-225.267 60.171-60.171 140.172-93.308 225.266-93.308h65.422c85.095 0 165.096 33.137 225.266 93.308 60.172 60.171 93.31 140.172 93.31 225.267V800.14c0 37.408-28.522 69.633-82.626 93.523a276.787 276.787 0 0 1 6.979 61.839c0 5.522-4.478 10-10 10z m-521.085-20h510.892a256.28 256.28 0 0 0-8.201-55.175 10 10 0 0 1 5.893-11.8c64.59-26.367 78.147-57.182 78.147-78.389V377.073c0-79.752-31.058-154.731-87.45-211.125-56.394-56.393-131.372-87.45-211.124-87.45H479.29c-79.752 0-154.729 31.057-211.124 87.45-56.394 56.394-87.451 131.372-87.451 211.125V800.14c0 21.207 13.558 52.021 78.148 78.39a9.999 9.999 0 0 1 5.892 11.8 256.055 256.055 0 0 0-8.2 55.172z" fill="#322B2C" /><path d="M512 932.954c-89.93 0-173.819-11.438-236.213-32.209-72.01-23.974-110.072-58.761-110.072-100.605V377.073c0-83.759 32.617-162.504 91.844-221.731 59.226-59.227 137.972-91.844 221.73-91.844h65.422c83.759 0 162.504 32.617 221.73 91.844s91.844 137.972 91.844 221.731V800.14c0 41.846-38.062 76.634-110.072 100.605-62.394 20.771-146.282 32.209-236.213 32.209z" fill="#322B2C" /><path d="M544.711 68.498c170.421 0 308.574 138.153 308.574 308.575V800.14c0 85.21-170.644 127.815-341.285 127.815-170.643 0-341.286-42.605-341.286-127.815V377.073c0-170.421 138.153-308.575 308.574-308.575h65.423m0-10h-65.422c-43.003 0-84.725 8.424-124.006 25.039-37.938 16.046-72.006 39.015-101.26 68.269-29.254 29.254-52.223 63.323-68.269 101.26-16.615 39.282-25.039 81.004-25.039 124.007V800.14c0 44.203 39.245 80.633 113.493 105.351 62.89 20.936 147.339 32.465 237.792 32.465s174.902-11.529 237.792-32.465c74.248-24.719 113.493-61.146 113.493-105.351V377.073c0-43.003-8.424-84.725-25.039-124.007-16.046-37.937-39.016-72.005-68.271-101.26-29.254-29.254-63.321-52.223-101.259-68.269-39.28-16.615-81.002-25.039-124.005-25.039z" fill="#322B2C" /><path d="M777.64 955.502H246.361c0-146.707 118.93-265.639 265.638-265.639 146.709 0 265.641 118.932 265.641 265.639z" fill="#F7BE95" /><path d="M506.185 955.502l-101.293-222.67c41.675-27.177 47.83-42.969 101.293-42.969 53.462 0 71.249 15.794 112.924 42.969l-112.924 222.67z" fill="#F4D490" /><path d="M755.152 534.349v-45.106c-18.388 6.138-243.151-25.966-243.151-127.942 0 101.977-224.767 134.08-243.153 127.941v45.107c-32.649 0-59.116 26.469-59.116 59.116 0 32.649 26.467 59.118 59.116 59.118a59.44 59.44 0 0 0 8.947-0.677c25.091 67.721 100.121 116.872 188.784 116.872h90.843c88.662 0 163.691-49.151 188.782-116.872 2.92 0.442 5.907 0.677 8.948 0.677 32.649 0 59.115-26.469 59.115-59.118 0.003-32.649-26.464-59.116-59.115-59.116z" fill="#F9E5E5" /><path d="M396.898 514.816c-28.918 0-53.301 19.778-60.341 46.52-11.564-3.081-14.036-11.489-14.036-25.104h-14.538c0 14.95 3.082 34.084 26.559 39.489-0.011 0.496 14.501 1.488 14.501 1.488 0-26.387 21.468-47.854 47.854-47.854 26.388 0 47.855 21.469 47.855 47.854h14.539c0.001-34.402-27.989-62.393-62.393-62.393zM622.918 514.816c28.919 0 53.301 19.778 60.342 46.52 11.564-3.081 14.035-11.489 14.035-25.104h14.539c0 14.951-3.082 34.084-26.561 39.489 0.013 0.496-14.499 1.488-14.499 1.488 0-26.387-21.47-47.854-47.856-47.854-26.386 0-47.854 21.469-47.854 47.854h-14.539c0-34.402 27.991-62.393 62.393-62.393zM512 702.686c-34.405 0-62.396-27.99-62.396-62.395h14.539c0 26.388 21.47 47.854 47.857 47.854s47.856-21.468 47.856-47.854h14.538c0.002 34.403-27.989 62.395-62.394 62.395z" fill="#322B2C" /> </svg>
                        <p class = "teacher-text" v-html="message.text"></p>
                    </template>
                    
                    <!-- Student message layout -->
                    <template v-else>
                        <p class = "student-text" v-html="message.text"></p>
                        <svg class="svg-icon-student" style="width: 5em; height: 5em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M777.659 963.501H246.363c-5.523 0-10-4.478-10-10 0-62.313 20.887-121.591 58.092-169.33-18.873 12.188-41.297 19.174-65.132 19.174-66.167 0-119.999-53.832-119.999-120 0-27.72 9.677-54.76 27.247-76.139 15.251-18.558 35.807-32.147 58.63-38.929l-34.329-191.44a10.046 10.046 0 0 1-0.157-1.765c0-85.095 33.138-165.096 93.308-225.266 60.171-60.17 140.172-93.308 225.266-93.308h65.422c85.095 0 165.096 33.138 225.266 93.308 60.171 60.17 93.309 140.171 93.309 225.266 0 0.592-0.053 1.183-0.157 1.765l-34.562 192.742c48.565 16.26 81.731 61.779 81.732 113.766 0 66.168-53.832 120-120.001 120-20.595 0-40.109-5.188-57.191-14.429a275.089 275.089 0 0 1 19.412 29.856c22.871 40.74 35.01 87.088 35.12 134.079a10 10 0 0 1 0.021 0.649c-0.001 5.523-4.477 10.001-10.001 10.001z m-521.102-20h510.888c-1.58-40.345-12.688-79.887-32.365-114.938-20.657-36.796-50.415-68.23-86.057-90.904a9.999 9.999 0 0 1-3.623-12.816l0.69-1.418a10 10 0 0 1 4.374-9.134 254.485 254.485 0 0 0 24.949-19.182 10 10 0 0 1 16.422 5.792c8.454 47.771 49.863 82.444 98.463 82.444 55.141 0 100.001-44.86 100.001-100-0.001-45.948-31.086-85.834-75.593-96.996a9.998 9.998 0 0 1-7.41-11.464l35.988-200.695c-0.227-79.425-31.263-154.055-87.449-210.241-56.394-56.393-131.372-87.45-211.124-87.45h-65.422c-79.752 0-154.731 31.057-211.124 87.45-56.187 56.187-87.222 130.817-87.449 210.242l35.814 199.725a10 10 0 0 1-7.795 11.553c-46.015 9.627-79.412 50.791-79.412 97.877 0 55.14 44.859 100 99.999 100 48.3 0 89.664-34.423 98.354-81.851a10 10 0 0 1 16.383-5.757 254.659 254.659 0 0 0 25.441 19.371 10 10 0 0 1 4.094 10.996l0.738 1.513a10.002 10.002 0 0 1-3.459 12.718c-68.911 45.717-111.133 121.106-114.316 203.165z m86.765-222.561a119.188 119.188 0 0 1-10.324 22.947 278.395 278.395 0 0 1 19.646-15.299 10.064 10.064 0 0 1-0.276-0.98 273.509 273.509 0 0 1-9.046-6.668z m324.831 5.404a275.545 275.545 0 0 1 14.915 11.036 119.209 119.209 0 0 1-6.95-16.974 275.062 275.062 0 0 1-7.965 5.938z" fill="#322B2C" /><path d="M790.298 683.346m-110 0a110 110 0 1 0 220 0 110 110 0 1 0-220 0Z" fill="#322B2C" /><path d="M229.323 683.346m-110 0a110 110 0 1 0 220 0 110 110 0 1 0-220 0Z" fill="#322B2C" /><path d="M813.285 598.14H210.714l-40-223.066c0-170.421 138.153-308.574 308.574-308.574h65.422c170.421 0 308.574 138.153 308.574 308.574L813.285 598.14z" fill="#322B2C" /><path d="M777.64 953.502H246.361c0-146.707 118.93-265.639 265.638-265.639 146.709 0 265.641 118.932 265.641 265.639z" fill="#F0BA93" /><path d="M365.343 732.003l77.909 159.721 95.567-162.894c-22.851-15.881-42.67-29.965-61.585-38.702-40.97 5.356-78.998 20.052-111.891 41.875z" fill="#F9D994" /><path d="M546.581 690.103c-21.55 9.515-43.803 26.032-69.392 43.815l95.564 162.896 81.635-167.594c-31.947-20.324-68.529-34.011-107.807-39.117z" fill="#EECF8D" /><path d="M770.375 534.519a266.919 266.919 0 0 0 1.609-23.433c-2.44 0.072-4.889 0.119-7.347 0.119-129.646 0-235.79-70.583-244.686-197.971-8.895 127.388-115.037 197.971-244.686 197.971-9.655 0-19.174-0.576-28.538-1.662 0.168 8.996 0.792 17.881 1.841 26.635-22.642 8.134-38.839 29.788-38.839 55.23 0 32.404 26.271 58.676 58.676 58.676a58.558 58.558 0 0 0 19.915-3.473c46.739 72.617 128.278 120.716 221.056 120.716 93.554 0 175.673-48.912 222.215-122.55a58.472 58.472 0 0 0 24.378 5.307c32.406 0 58.677-26.271 58.677-58.676 0-27.435-18.83-50.468-44.271-56.889z" fill="#F9E5E5" /><path d="M512 719.386c-30.215 0-54.796-24.581-54.796-54.795h10c0 24.7 20.096 44.795 44.796 44.795s44.796-20.095 44.796-44.795h10c0 30.214-24.581 54.795-54.796 54.795zM396 523.333c-14.154 0-26.642 7.118-34.092 17.967a44.5 44.5 0 0 1-12.059-17.852l-9.392 3.433a54.458 54.458 0 0 0 16.731 23.536 41.234 41.234 0 0 0-2.523 14.249C354.666 587.494 373.172 606 396 606s41.333-18.506 41.333-41.334c0-22.827-18.506-41.333-41.333-41.333zM624.688 524.333c14.153 0 26.643 7.118 34.092 17.967a44.49 44.49 0 0 0 12.059-17.852l9.393 3.433a54.458 54.458 0 0 1-16.731 23.536 41.257 41.257 0 0 1 2.523 14.249c0 22.828-18.507 41.334-41.334 41.334-22.828 0-41.334-18.506-41.334-41.334-0.002-22.827 18.502-41.333 41.332-41.333z" fill="#322B2C" /><path d="M390.003 638.213c0 5.848-3.781 10.586-8.446 10.586H324.45c-4.665 0-8.446-4.738-8.446-10.586 0-5.846 3.781-10.586 8.446-10.586h57.107c4.665 0 8.446 4.74 8.446 10.586zM703.134 634.117c0 5.848-3.782 10.586-8.446 10.586H637.58c-4.664 0-8.446-4.738-8.446-10.586 0-5.846 3.782-10.586 8.446-10.586h57.107c4.665 0 8.447 4.74 8.447 10.586z" fill="#F3A089" /></svg>
                    </template>
            </li>
            </ul>
            
    </div>
        <!-- this is the chat-form for student to send message by click submit arrow and press enter-->
        <div class = "content-footer">
            <form action = "#" class = "chat-form">
                <textarea placeholder="發送消息......" class = "message-input" type="text" v-model="message" @keyup.enter="sendMessage"></textarea>
                <div class = "chat-controls">
                    <button class="send-button">
                        <span class="material-symbols-outlined" @click="sendMessage">arrow_upward</span>
                    </button>
                </div>
            </form>
        </div> 
</div>